let LightboxJS=function(elem){if(!LightboxJS.isInit){LightboxJS.init();LightboxJS.isInit=true}this.trigger=elem;this.href=elem.getAttribute("href")??elem.dataset.url??null;this.width=elem.dataset.width??1e3;this.height=elem.dataset.height??600;const closeWithOverlayData=elem.dataset.closeWithOverlay??1;this.closeWithOverlay=closeWithOverlayData!==0&&closeWithOverlayData!=="0"&&closeWithOverlayData!=="false";if(this.href!=null){const _this=this;this.trigger.addEventListener("click",e=>{e.preventDefault();_this.open()})}else{console.error("[LightboxJS] this element does not contains url information")}LightboxJS.current=this};LightboxJS.init=function(){LightboxJS.el=document.createElement("div");LightboxJS.content=document.createElement("div");LightboxJS.body=document.createElement("div");LightboxJS.spinner=document.createElement("div");LightboxJS.overlay=document.createElement("div");LightboxJS.closebtn=document.createElement("div");LightboxJS.frame=document.createElement("iframe");LightboxJS.closebtn.innerHTML="&times;";LightboxJS.el.classList.add("lightboxjs");LightboxJS.overlay.classList.add("overlay");LightboxJS.spinner.classList.add("spinner");LightboxJS.content.classList.add("content");LightboxJS.closebtn.classList.add("close");LightboxJS.body.classList.add("body");LightboxJS.el.appendChild(this.overlay);LightboxJS.el.appendChild(this.closebtn);LightboxJS.el.appendChild(this.spinner);LightboxJS.content.appendChild(this.body);LightboxJS.el.appendChild(this.content);LightboxJS.body.append(this.frame);document.body.appendChild(this.el);LightboxJS.frame.onload=()=>{if(!LightboxJS.isOpen())return;LightboxJS.spinner.classList.remove("show");LightboxJS.content.classList.add("loaded");LightboxJS.closebtn.classList.add("show");LightboxJS.closebtn.classList.add("open");const ff=()=>{LightboxJS.closebtn.classList.remove("show");LightboxJS.closebtn.removeEventListener("webkitAnimationEnd",ff,false);LightboxJS.closebtn.removeEventListener("mozAnimationEnd",ff,false);LightboxJS.closebtn.removeEventListener("msAnimationEnd",ff,false);LightboxJS.closebtn.removeEventListener("animationend",ff,false)};LightboxJS.closebtn.addEventListener("webkitAnimationEnd",ff,false);LightboxJS.closebtn.addEventListener("mozAnimationEnd",ff,false);LightboxJS.closebtn.addEventListener("msAnimationEnd",ff,false);LightboxJS.closebtn.addEventListener("animationend",ff,false)};const closeWithOverlay=()=>{if(LightboxJS.current.closeWithOverlay)LightboxJS.close()};const closeWithBtn=()=>{LightboxJS.close()};const f=()=>{if(LightboxJS.isOpen())return;LightboxJS.frame.src="about:blank";LightboxJS.el.classList.remove("show");LightboxJS.closebtn.classList.remove("show");LightboxJS.closebtn.classList.remove("open")};LightboxJS.overlay.addEventListener("click",closeWithOverlay);LightboxJS.closebtn.addEventListener("click",closeWithBtn);window.addEventListener("message",event=>{if(event.data==="lightboxjs-close-me")LightboxJS.close()},false);this.el.addEventListener("transitionend",f,false);this.el.addEventListener("webkitTransitionEnd",f,false);this.el.addEventListener("mozTransitionEnd",f,false);this.el.addEventListener("msTransitionEnd",f,false)};LightboxJS.loadIframe=function(href){LightboxJS.spinner.classList.add("show");LightboxJS.content.classList.remove("loaded");LightboxJS.closebtn.classList.remove("show");LightboxJS.closebtn.classList.remove("open");LightboxJS.frame.src=href};LightboxJS.prototype.open=function(){LightboxJS.setDimensions(this.width,this.height);LightboxJS.loadIframe(this.href);LightboxJS.el.classList.add("show");LightboxJS.el.offsetHeight;LightboxJS.el.classList.add("open");if(!this.closeWithOverlay)LightboxJS.overlay.classList.remove("clickable");else LightboxJS.overlay.classList.add("clickable");LightboxJS.current=this};LightboxJS.close=function(){LightboxJS.el.classList.remove("open")};LightboxJS.isOpen=function(){return LightboxJS.el.classList.contains("open")};LightboxJS.setDimensions=function(w,h){LightboxJS.content.style.width=w+"px";LightboxJS.content.style.height=h+"px"};document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".lightboxjs-link").forEach(el=>{el.lightbox=new LightboxJS(el)})});